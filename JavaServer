import java.net.*;
	import java.io.*;
public class Server extends Thread {
	public static void main(String [] args){
	int port = 5000;


	try{
	ServerSocket ss = new ServerSocket(port);
	Socket socket = ss.accept();
	InputStream sin = socket.getInputStream();
	OutputStream sout = socket.getOutputStream();

	DataInputStream in = new DataInputStream(sin);
	DataOutputStream out = new DataOutputStream(sout);


	String line;
	while(true){
	line = in.readUTF();
	System.out.println(line);
	out.writeUTF(line);
	out.flush();
	}}catch(Exception x){x.printStackTrace();}


	

}}
